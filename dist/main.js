!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var i=class{constructor(t,e="empty"){this.coords=t,this.type=e,this.hidden=!0,this.flag=!1,this.tomatoCount=0}isTomato(){return"tomato"==this.type}reveal(t){this.tomatoCount=t,this.hidden=!1}flagCell(){this.flag=!0}displayVal(){return"empty"==this.type&&!this.hidden&&this.tomatoCount>0?this.tomatoCount:""}getHTML(){return`<div id=${this.coords.join()} class="cell ${this.hidden?"hidden":this.type} ${this.flag?"flag":""}">${this.displayVal()}</div>`}};var n=class{constructor(t=10,e=10){this.size=t,this.tomatoes=e,this.populate()}populate(){this.grid=new Array(this.size);for(let t=0;t<this.size;t++){this.grid[t]=new Array(this.size);for(let e=0;e<this.size;e++){let r=Math.random()>.95?"tomato":"empty";this.grid[t][e]=new i([t,e],r)}}}inbounds(t,e){return t>=0&&t<this.size&&e>=0&&e<this.size}getCell(t,e){return this.grid[t][e]}getNeighbors(t,e){if(!this.inbounds(t,e))return;let r=[];for(let i=-1;i<=1;i++)for(let n=-1;n<=1;n++)0==i&&0==n||this.inbounds(t+i,e+n)&&r.push(this.grid[t+i][e+n]);return r}getTomatoCount(t,e){let r=0;return this.getNeighbors(t,e).forEach(t=>{t.isTomato()&&r++}),r}reveal(t,e){let r=this.getCell(t,e);if(!r.hidden)return;let i=this.getTomatoCount(t,e);r.reveal(i),0==i&&this.getNeighbors(t,e).forEach(t=>{this.reveal(t.coords[0],t.coords[1])})}flagCell(t,e){this.getCell(t,e).flagCell()}getHTML(){let t="";return this.grid.forEach(e=>{t+="<div class='row'>",e.forEach(e=>{t+=e.getHTML()}),t+="</div>"}),t}};document.addEventListener("DOMContentLoaded",(function(t){const e=document.querySelector("#field"),r=new n;function i(){e.innerHTML=r.getHTML()}window.board=r,window.renderBoard=i,i(),e.addEventListener("click",(function(t){if(!t.target.classList.contains("cell"))return;let e=t.target.id.split(",");r.reveal(Number(e[0]),Number(e[1])),i()})),e.addEventListener("contextmenu",(function(t){if(!t.target.classList.contains("cell"))return;t.preventDefault();let e=t.target.id.split(",");r.flagCell(Number(e[0]),Number(e[1])),i()}))}))}]);